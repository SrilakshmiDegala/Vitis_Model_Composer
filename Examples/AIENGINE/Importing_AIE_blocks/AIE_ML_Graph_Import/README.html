<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="/proj/xcoswmktg/robg/git/markdown_to_html/style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section
id="importing-aie-ml-graph-into-vitis-model-composer-as-a-block"
class="level1">
<h1>Importing AIE-ML graph into Vitis Model Composer as a block</h1>
<section id="what-is-ai-engine-ml" class="level2">
<h2>What is AI Engine-ML?</h2>
<p>The AI Engine-ML architecture is optimized for both ML and advanced
signal processing. To learn more about the AIE-ML devices, refer to <a
href="https://docs.xilinx.com/r/en-US/am020-versal-aie-ml">this
documentation</a>.</p>
<p>The AIE-ML Memory tile is introduced in the AIE-ML architecture to
significantly increase the on-chip memory inside the AIE-ML array. This
new functional unit reduced the utilization of PL resources including
block RAMs and URAMs.</p>
<img src="./images/AIE_ML.jpg" width="500"/>

</section>
<section id="imported-graph-code" class="level2">
<h2>Imported graph code</h2>
<p>Let's start by taking a closer look into the graph code. The picture
below depicts the connectivity of the graph:</p>
<img src="./images/top_graph.jpg" width="700"/>

<p>The screenshot below depicts the graph code <a
href="./src/MultGraph.h">MultGrpah.h</a> we are importing using the
AIE-Graph import block in Vitis Model Composer. Here we are setting up
three shared buffers, two for the input and one for the output.</p>
<img src="./images/AIE_ML_graph.jpg" width="800"/>

<p>Later in the graph code we connect the two inputs of the graph to the
inputs of the two shared buffers and connect the outputs of these two
shared buffers to the AI Engine kennel (highlighted in yellow and
green). Likewise, in the output, we connect the output of the AI Engine
kernel to the input of the shared buffer, and the output of the shared
buffer to the graph output (highlighted in blue).</p>
<img src="./images/AIE_ML_graph2.jpg" width="800"/>

</section>
<section id="importing-the-aie-graph-block-into-vitis-model-composer"
class="level2">
<h2>Importing the AIE Graph block into Vitis Model Composer</h2>
<p>To import graph code as a block, we start by getting the <em>AIE
Graph</em> block from the Simulinlk library browser:</p>
<img src="./images/Library_browser.jpg" width="800"/>

<p>We then double click on the block and set the parameters as shown
below and click <strong>Import</strong>.</p>
<img src="./images/general_tab.jpg" width="600"/>

<p>In the next tab, we enter the values of the template parameters of
the graph. Note that the graph we are importing is templatized with four
template parameters. Once we enter the values for the template
parameters we click <strong>Build</strong>:</p>
<img src="./images/Graph_class_tab.jpg" width="600"/>

<p>In the next tab, we set the size of the inputs and the output:</p>
<img src="./images/Function_tab.jpg" width="600"/>

<p>After clicking ok, the block is set to connect to other blocks in
Simulink.</p>
</section>
</section>
<section id="simulink-design" class="level1">
<h1>Simulink design</h1>
<p>The image below depicts the Simulink design. Note that we are
comparing the output of the graph block with the matrix multiply block
in Simulink.</p>
<img src="./images/AIE_ML_design.jpg" width="1000"/>

</section>
</body>
</html>
