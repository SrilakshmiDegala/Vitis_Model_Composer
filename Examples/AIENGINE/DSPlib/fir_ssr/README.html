<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="/proj/xcoswmktg/robg/git/markdown_to_html/style.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section
id="using-dsplib-ai-engine-ssr-fir-block-to-achieve-4-gsps-throughput"
class="level1">
<h1>Using DSPLib AI Engine SSR FIR block to achieve 4 Gsps
throughput</h1>
<p>This example demonstrates using the AI Engine 'FIR Asymmetric Filter'
block with a Super Sample Rate (SSR) of 4 in Vitis Model Composer to
achieve a high throughput. We also compare the results to the Simulink
FIR block for functional correctness.</p>
<p>Each stream input to the AI Engine FIR block has a thoughput of close
to 1 GSPS for a total of 4 GSPS. To achieve this throughput the
following factors are in play:</p>
<ul>
<li>64 bit wide PLIO blocks on all the inputs and outputs, with a PL
frequency of 500 MHz. This means two 16-bit complex inputs (64 bits
total) can be transferred between AIE and PL through each PLIO during
each clock cycle, for a total throughput of 1 GSPS per stream.</li>
<li>A high value for the parameter "Input frame size" on the filter
block, in this case 8192. Note this parameter is the sum of the signal
sizes of all the four inputs. A larger value means at each invocation of
the filter more samples will be processed, which reduces the total
overhead we incur when we invoke the kernel, and hence a higher
throughput. However, a higher value here will also translate to a higher
latency.</li>
</ul>
<img height="200" src="./Images/fir.png">

<img height="300" src="./Images/throughput.png">

<section id="knowledge-nuggets" class="level2">
<h2>Knowledge nuggets</h2>
<p><span class="emoji" data-emoji="bulb"></span> To see the estimated
throughput, we are setting the Vitis Model Composer Hub block as below
before pushing the <em>Generate</em> button:</p>
<img height="300" src="./Images/hub.png">

<p><span class="emoji" data-emoji="bulb"></span> The input data is
split over four ports, where each successive sample is sent to a
different input port in a round-robin fashion.</p>
<p><span class="emoji" data-emoji="bulb"></span> The number of AI
Engines used is equal to SSR^2 * CASC_LEN (in this case 4^2*1=16)</p>
<p><img src="Images/screen_shot.png" /></p>
</section>
<section id="related-examples" class="level2">
<h2>Related Examples</h2>
<ul>
<li><p><a href="matlab:XmcExampleApi.getExample('SingleStreamSSR_FIR')">This</a> is another
example of a high throughput filter built from scratch instead of using
the block from the AMD AI Engine DSP library.</p></li>
<li><p><a href="matlab:XmcExampleApi.getExample('SingleStreamSSR_FIR_withPL')">This</a>
is an example of an AI Engine/Programmable Logic heterogeneous design
where the AI Engine is also built from scratch instead of using the
block from the AMD AI Engine DSP library along with HDL blocks feeding
the AI Engine array and receiving the filtered data back from the
array.</p></li>
</ul>
<hr />
<p>Copyright 2022 Xilinx</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you
may not use this file except in compliance with the License. You may
obtain a copy of the License at</p>
<pre><code>http://www.apache.org/licenses/LICENSE-2.0</code></pre>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</section>
</section>
</body>
</html>
